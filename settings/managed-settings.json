{
  "defaultMode": "default",
  "autoAllowBashIfSandboxed": true,
  "disableBypassPermissionsMode": "disable",
  "allowManagedPermissionRulesOnly": true,
  "allowManagedHooksOnly": true,

  "permissionRules": {
    "deny": [
      {
        "tool": "Bash",
        "pattern": "sudo *",
        "reason": "Privilege escalation blocked"
      },
      {
        "tool": "Bash",
        "pattern": "su *",
        "reason": "Privilege escalation blocked"
      },
      {
        "tool": "Bash",
        "pattern": "gosu *",
        "reason": "Privilege escalation blocked"
      },
      {
        "tool": "Edit",
        "pattern": "/etc/claude-code/**",
        "reason": "Managed settings are read-only (root-owned, 444)"
      },
      {
        "tool": "Edit",
        "pattern": "/opt/claude-hooks/**",
        "reason": "Hook scripts are read-only (root-owned, 755)"
      }
    ],

    "ask": [],

    "allow": []
  },

  "sandbox": {
    "enabled": false
  },

  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/opt/claude-hooks/pre-command-validator.sh"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "/opt/claude-hooks/post-command-logger.sh"
          }
        ]
      }
    ]
  }
}
